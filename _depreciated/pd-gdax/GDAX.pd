#N canvas 516 23 485 459 10;
#X msg 330 125 delorder all;
#X obj 53 85 s \$0-gdax;
#X obj 330 189 s \$0-prtcon;
#X obj 330 171 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 330 146 s \$0-gdax;
#X msg 94 37 0.01;
#N canvas 374 84 596 650 guts 1;
#X obj 345 163 print OUT;
#X obj 444 87 print OUT2;
#X obj 352 91 s \$0-response;
#X obj 444 45 r \$0-gdax;
#X msg 345 38 reload.;
#X obj 345 139 spigot;
#X obj 390 115 r \$0-prtcon;
#X obj 18 63 purest_json/json-decode;
#X obj 18 14 r \$0-response;
#X obj 18 87 list trim;
#X obj 53 111 spigot;
#X obj 98 87 r \$0-prtcon;
#X obj 53 135 print DECODED;
#X obj 18 588 s \$0-price;
#X obj 18 39 list trim;
#X obj 18 433 symbol;
#X obj 18 453 zexy/symbol2list;
#X obj 38 375 symbol;
#X obj 38 394 zexy/symbol2list;
#X obj 38 413 s \$0-ask;
#X obj 58 317 symbol;
#X obj 58 336 zexy/symbol2list;
#X obj 58 355 s \$0-bid;
#X obj 345 188 r \$0-ask;
#X obj 345 227 -;
#X obj 360 207 r \$0-bid;
#X obj 345 364 s \$0-spread;
#X obj 18 472 change;
#X obj 18 512 line;
#X msg 18 492 \$1 1000;
#X obj 18 531 * 100;
#X obj 18 550 int;
#X obj 18 569 / 100;
#X obj 159 216 print BUYSELL;
#X obj 18 159 route price ask bid volume trade_id time size, f 24
;
#X obj 78 258 symbol;
#X obj 78 277 zexy/symbol2list;
#X obj 345 11 r \$0-pyreload;
#X obj 78 296 s \$0-volume;
#X text 246 511 2) type (buy / sell);
#X text 246 493 1) order type (limit / market / stop);
#X text 247 530 3) size of order (ex. 1 = 1 BTC);
#X text 246 551 4) price or order (ex. 1 = 1 USD);
#X text 247 571 5) type of order (BTC-USD = Bitcoin/US Dollar);
#X text 248 592 6) post (true / false);
#X obj 345 65 pycbauth/pycbauth;
#X obj 113 549 metro 1000;
#X obj 113 588 s \$0-gdax;
#X msg 113 569 ticker;
#X obj 113 528 r \$0-ticker;
#X obj 345 247 change;
#X obj 345 287 line;
#X msg 345 267 \$1 1000;
#X obj 345 306 * 100;
#X obj 345 325 int;
#X obj 345 344 / 100;
#X connect 3 0 45 1;
#X connect 4 0 45 0;
#X connect 5 0 0 0;
#X connect 6 0 5 1;
#X connect 7 0 9 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 9 0 34 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 14 0 7 0;
#X connect 15 0 16 0;
#X connect 16 0 27 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 23 0 24 0;
#X connect 24 0 50 0;
#X connect 25 0 24 1;
#X connect 27 0 29 0;
#X connect 28 0 30 0;
#X connect 29 0 28 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 13 0;
#X connect 34 0 15 0;
#X connect 34 1 17 0;
#X connect 34 2 20 0;
#X connect 34 3 35 0;
#X connect 35 0 36 0;
#X connect 36 0 38 0;
#X connect 37 0 4 0;
#X connect 45 0 2 0;
#X connect 45 0 5 0;
#X connect 45 1 1 0;
#X connect 46 0 48 0;
#X connect 48 0 47 0;
#X connect 49 0 46 0;
#X connect 50 0 52 0;
#X connect 51 0 53 0;
#X connect 52 0 51 0;
#X connect 53 0 54 0;
#X connect 54 0 55 0;
#X connect 55 0 26 0;
#X restore 331 260 pd guts;
#X obj 223 85 s \$0-gdax;
#X msg 261 35 0.01;
#X obj 54 123 r \$0-price;
#X obj 54 143 nbx 7 30 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 20
-258113 -262144 -1 646.03 256;
#N canvas 527 550 297 273 limit-sell 0;
#X obj 95 103 f;
#X msg 34 161 limit sell \$1 \$2 BTC-USD true;
#X obj 34 132 pack f f;
#X obj 34 71 t f b;
#X obj 34 187 outlet;
#X obj 147 188 outlet;
#X obj 34 22 inlet;
#X obj 45 47 r \$0-limsell;
#X obj 116 79 r \$0-ask;
#X connect 0 0 2 1;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 0 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 0 0 1;
#X connect 8 0 5 0;
#X restore 53 65 pd limit-sell;
#N canvas 884 431 285 244 limit-buy 0;
#X msg 30 157 limit buy \$1 \$2 BTC-USD true;
#X obj 91 95 f;
#X obj 30 121 pack f f;
#X obj 30 65 t f b;
#X obj 30 182 outlet;
#X obj 170 183 outlet;
#X obj 30 19 inlet;
#X obj 39 42 r \$0-limbuy;
#X obj 112 71 r \$0-bid;
#X connect 0 0 4 0;
#X connect 1 0 2 1;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 3 1 1 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 0 1 1;
#X connect 8 0 5 0;
#X restore 223 65 pd limit-buy;
#X msg 223 36 0.1;
#X obj 55 199 nbx 7 30 -1e+37 1e+37 0 0 empty empty empty 0 7 0 20
-258113 -262144 -86277 0.01 256;
#X obj 55 179 r \$0-spread;
#X msg 53 38 0.1;
#X obj 331 231 s \$0-pyreload;
#X obj 331 213 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 56 238 r \$0-volume;
#X obj 56 258 nbx 7 30 -1e+37 1e+37 0 0 empty empty empty 0 7 0 20
-258113 -262144 -86277 12620.2 256;
#X obj 292 84 nbx 5 20 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-258113 -262144 -1 646.03 256;
#X obj 128 85 nbx 5 20 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-258113 -262144 -1 646.04 256;
#N canvas 0 23 357 265 market-fees 0;
#X obj 23 51 r \$0-price;
#X floatatom 23 192 5 0 0 0 - - -, f 5;
#X obj 23 75 * 0.0025;
#X obj 32 148 * 0.1;
#X obj 36 101 * 0.01;
#X floatatom 32 168 5 0 0 0 - - -, f 5;
#X floatatom 36 124 5 0 0 0 - - -, f 5;
#X text 68 190 <-- market fee to sell 1 BTC;
#X text 79 167 <-- market fee to sell 0.1 BTC;
#X text 76 122 <-- market fee to sell 0.01 BTC;
#X text 24 19 market orders take a %0.25 fee;
#X obj 84 78 * 0.01;
#X floatatom 84 99 5 0 0 0 - - -, f 5;
#X connect 0 0 2 0;
#X connect 0 0 11 0;
#X connect 2 0 1 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 11 0 12 0;
#X restore 330 314 pd market-fees;
#N canvas 1008 23 268 200 strategies 0;
#N canvas 193 23 219 307 strat-spread 0;
#X obj 61 263 s \$0-limsell;
#X obj 101 243 s \$0-limbuy;
#X obj 22 13 r \$0-spread;
#X msg 61 243 0.01;
#X msg 101 224 0.01;
#X obj 22 33 moses 2;
#X obj 61 85 fresh/bng.once;
#X obj 61 52 t b;
#X obj 22 52 t b;
#X obj 77 149 print \$2-SPREAD;
#X obj 106 12 inlet;
#X obj 61 105 spigot 0;
#X obj 148 12 inlet;
#X obj 74 201 t b b;
#X obj 61 125 fresh/bng.nth 5;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 5 1 7 0;
#X connect 6 0 11 0;
#X connect 7 0 6 0;
#X connect 8 0 6 1;
#X connect 10 0 11 1;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 13 0 3 0;
#X connect 13 1 4 0;
#X connect 14 0 4 0;
#X connect 14 0 3 0;
#X connect 14 0 9 0;
#X restore 26 39 pd strat-spread;
#X obj 26 19 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 113 20 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 131 19 <-- buy at spread;
#X connect 1 0 0 0;
#X connect 2 0 0 1;
#X restore 331 287 pd strategies;
#X text 259 124 <-- ON;
#X obj 224 119 tgl 30 0 empty empty empty 17 7 0 10 -258113 -1 -1 1
1;
#N canvas 93 106 615 677 ws-ticker 0;
#X msg 52 164 reload .;
#X msg 43 144 detach 1;
#X obj 43 353 purest_json/json-decode;
#X obj 43 375 purest_json/json-decode;
#X obj 43 396 list trim;
#X obj 43 583 symbol;
#X obj 43 602 zexy/symbol2list;
#X text 101 142 <-- 1) have to "detach 1" first;
#X text 407 208 <-- 2) open websocket;
#X msg 151 208 open wss://ws-feed.exchange.coinbase.com;
#X msg 158 229 open wss://echo.websocket.org;
#X text 113 162 <-- 3) stop the feed;
#X msg 150 295 close;
#X obj 151 253 t a b;
#X msg 56 308 detach 1;
#X obj 178 273 s \$0-detach;
#X obj 56 289 r \$0-detach;
#X text 198 294 <-- doesnt work;
#X obj 43 330 pyws/pyws;
#X obj 36 50 r \$0-ws-ticker;
#X obj 116 98 sel 0 1;
#X obj 56 539 spigot;
#X obj 89 518 r \$0-prtcon;
#X obj 56 560 print PRICE;
#X obj 127 458 print;
#X obj 43 420 route price match;
#X obj 246 471 print;
#X text 431 41 <-- ON;
#X obj 396 36 tgl 30 0 empty empty empty 17 7 0 10 -258113 -1 -1 0
1;
#X obj 396 70 s \$0-ws-ticker;
#X obj 43 623 s \$0-ws-price;
#X obj 392 123 nbx 7 30 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 20
-258113 -262144 -1 0 256;
#X obj 392 103 r \$0-ws-price;
#X connect 0 0 18 0;
#X connect 1 0 18 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 25 0;
#X connect 5 0 6 0;
#X connect 6 0 30 0;
#X connect 9 0 13 0;
#X connect 10 0 13 0;
#X connect 12 0 18 1;
#X connect 13 0 18 1;
#X connect 13 1 15 0;
#X connect 14 0 18 0;
#X connect 16 0 14 0;
#X connect 18 0 2 0;
#X connect 19 0 20 0;
#X connect 20 0 0 0;
#X connect 20 1 9 0;
#X connect 21 0 23 0;
#X connect 22 0 21 1;
#X connect 25 0 21 0;
#X connect 25 0 5 0;
#X connect 25 1 24 0;
#X connect 28 0 29 0;
#X connect 32 0 31 0;
#X restore 331 340 pd ws-ticker;
#X obj 224 153 s \$0-ticker;
#N canvas 514 507 450 300 alerts 0;
#X obj 55 78 r \$0-spread;
#X obj 54 26 r \$0-price;
#X obj 55 98 > 2;
#X obj 55 117 change;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X restore 330 363 pd alerts;
#N canvas 512 513 450 300 market-buy 0;
#X obj 34 186 outlet;
#X obj 34 21 inlet;
#X msg 120 101 0.01;
#X msg 34 160 market buy \$1 BTC-USD;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X restore 57 382 pd market-buy;
#X obj 57 401 s \$0-gdax;
#X obj 161 401 s \$0-gdax;
#N canvas 512 513 450 300 market-sell 0;
#X obj 34 186 outlet;
#X obj 34 21 inlet;
#X msg 120 101 0.01;
#X msg 34 160 market sell \$1 BTC-USD;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X restore 161 381 pd market-sell;
#X msg 88 353 0.01;
#X msg 195 349 0.01;
#X msg 161 350 0.1;
#X msg 57 353 0.1;
#X obj 88 302 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 517 520 450 300 orders 0;
#X obj 113 63 s \$0-gdax;
#X msg 113 36 orders;
#X connect 1 0 0 0;
#X restore 315 422 pd orders;
#X connect 0 0 4 0;
#X connect 3 0 2 0;
#X connect 5 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 11 0 1 0;
#X connect 11 1 22 0;
#X connect 12 0 7 0;
#X connect 12 1 21 0;
#X connect 13 0 12 0;
#X connect 15 0 14 0;
#X connect 16 0 11 0;
#X connect 18 0 17 0;
#X connect 19 0 20 0;
#X connect 26 0 28 0;
#X connect 30 0 31 0;
#X connect 33 0 32 0;
#X connect 34 0 30 0;
#X connect 35 0 33 0;
#X connect 36 0 33 0;
#X connect 37 0 30 0;
#X connect 38 0 34 0;
#X connect 38 0 35 0;
